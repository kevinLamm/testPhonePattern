<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="viewport" content="width=device-width, initial-scale=1, viewport-fit=cover">
  <meta name="theme-color" content="#000000">
  <link rel="manifest" href="manifest.json">
  <link rel="apple-touch-startup-image" href="icon512.png">
  <link rel="icon" sizes="192x192" href="icon.png">
  <title>Camera OpenCV App</title>
  <!-- Make sure onOpenCvReady is defined before opencv.js -->
  <script>
    function onOpenCvReady() {
      console.log("OpenCV is ready");
    }
  </script>
  <script src="https://docs.opencv.org/4.8.0/opencv.js" onload="onOpenCvReady();"></script>
  <script src="libs/dxf-doc.js"></script>
  <link rel="stylesheet" href="styles.css">
</head>
<body>
  <!-- Header with Hamburger Menu and Settings -->
  <header>
    <div id="hamburger-menu">
      <button id="menu-btn">☰</button>
      <nav id="menu-nav" class="hidden">
        <ul>
          <li><button id="new-project">New Project</button></li>
          <li><button id="open-project">Open Project</button></li>
          <li><button id="save-project">Save Project</button></li>
          <li><button id="share-project">Share Project</button></li>
          <li><button id="settings-btn">Settings</button></li>
        </ul>
      </nav>
    </div>
    
  </header>

  <!-- Main Content -->
  <main>
    <!-- Project Name -->
    <div id="project-header">
      <input type="text" id="project-name" placeholder="Project Name" />
    </div>

    <!-- Pattern List -->
    <div id="pattern-list">
      <!-- This is dynamically populated. Each pattern row might look like this: -->
      <!--
      <div class="pattern-row" data-index="0">
        <input type="text" class="pattern-description" placeholder="Description">
        <input type="number" class="pattern-width" placeholder="Width">
        <input type="number" class="pattern-height" placeholder="Height">
        <textarea class="pattern-svg" placeholder="SVG Path"></textarea>
        <button class="remove-pattern">Remove</button>
        <button class="move-up">↑</button>
        <button class="move-down">↓</button>
      </div>
      -->
      <button id="add-pattern">Add Pattern</button>
    </div>

   
  </main>

  <!-- Splash Screen (if still used) -->
  <div id="splash-screen">
    <img src="icon512.png" alt="App Icon" />
    <p>Loading...</p>
  </div>

  <div id="camera-view" class="hidden">
    
    <div id="canvas-container">
      <canvas id="canvas"></canvas>
      <canvas id="processing-canvas" style="position: absolute; left: -9999px;"></canvas>

     
      
    </div>
    <div id="debug-label" style="position: absolute; bottom: 200px; left: 10px; color: white; background-color: rgba(0, 0, 0, 0.6); padding: 5px;">
        Debugging messages will appear here.
    </div>
    <button id="capture-process">Capture & Process</button>
    <button id="close-camera">X</button>
    
  </div>

  <script src="app.js"></script>
</body>
</html>
